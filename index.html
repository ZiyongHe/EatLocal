<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
    <title>Project Team A</title>
  </head>
  <body>
    <!--Start of hero-->
    <section class="hero is-primary is-medium">
      <div class="hero-head">
        <nav class="navbar">
          <div class="container">
            <div class="navbar-brand">
              <a href="#" class="navbar-item">
                <img src="https://bulma.io/images/bulma-type-white.png" alt="Logo">
              </a>
              <span class="navbar-burger burger" id="burger-menu" data-target="navbarMenuHeroA">
                <span></span>
                <span></span>
                <span></span>
              </span>
            </div>
            <div class="navbar-menu" id="navbarMenuHeroA">
              <div class="navbar-end">
                <a href="#" class="navbar-item">
                  Example
                </a>
                <a href="#" class="navbar-item">
                  Example
                </a>
              </div>
            </div>
          </div>
        </nav>
      </div>
      <div class="hero-body">
        <div class="container has-text-centered">
          <h1 class="block title">Find restaurants near you</h1>
          <div class="field has-addons has-addons-centered">
            <div class="control" style="width: 500px;">
              <input type="text" class="input" placeholder="Search for a restaurant">
            </div>
            <div class="control">
              <input type="submit" class="button is-info">
            </div>
          </div>
      </div>
    </section>
    <!--End of hero-->
    <section class="section">
      <div class="tile is-ancestor is-vertical">
        <div class="tile">
          <div class="tile is-parent">
            <div class="tile level is-child has-text-centered">
              <a class="level-item box" style="height: 150px;">
                Category Name
              </a>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile level is-child has-text-centered">
              <a class="level-item box" style="height: 150px;">
                Category Name
              </a>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile level is-child has-text-centered">
              <a class="level-item box" style="height: 150px;">
                Category Name
              </a>
            </div>
          </div>
        </div>
        <div class="tile">
          <div class="tile is-parent">
            <div class="tile level is-child has-text-centered">
              <a class="level-item box" style="height: 150px;">
                Category Name
              </a>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile level is-child has-text-centered">
              <a class="level-item box" style="height: 150px;">
                Category Name
              </a>
            </div>
          </div>
          <div class="tile is-parent">
            <div class="tile level is-child has-text-centered">
              <a class="level-item box" style="height: 150px;">
                Category Name
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">
        let latitude
        let longitude

        navigator.geolocation.getCurrentPosition(getRestaurants)

        function getRestaurants(location){
            latitude = location.coords.latitude.toFixed(6)
            longitude = location.coords.longitude.toFixed(6)
            fetchObject()
        }
        
        function fetchObject (){
            const YELP_API_KEY =
                'NdXFjJC2Z5-HgDBjoNaueLO36hrPTyedCA-GNKcoSl6oYQV6qiIkWXI89HGaxlrEoBNYFt0CFYeiMhyb8rCYqUqWfbF0-qRXgBJOYHirnXdPjl2kjj_3w-6MySlmX3Yx'
            const CORS_PROXY = 'https://cors-anywhere.herokuapp.com/'
            const BASE_URL = 'https://api.yelp.com/v3/businesses'
            const geoCoords = `&latitude=${latitude}&longitude=${longitude}`
            const url = `${CORS_PROXY}${BASE_URL}/search?term=coffee${geoCoords}`
            fetch(url, {
            headers: {
                'Content-Type': 'application/json',
                Authorization: 'Bearer ' + YELP_API_KEY
            }
            })
            .then(response => response.json())
            .then(console.log)
        }
      
        function getZomatoData(lat, lon) {
        const ZOMATO_API_KEY =
          'e97f8a0c15411b5568c8f26befb3d704';
          const CORS_PROXY = 'https://cors-anywhere.herokuapp.com/';
          const BASE_URL = `https://developers.zomato.com/api/v2.1/search?`;
          const url = `${CORS_PROXY}${BASE_URL}lat=${lat}&lon=${lon}`
          fetch(url, {
            headers: {
              'user-key': ZOMATO_API_KEY
            }
          })
            .then(response => response.json())
            .then(console.log)
        }

        document.getElementById('burger-menu').addEventListener('click', function(event){
          const menuID = event.target.dataset.target;
          const menu = document.getElementById(menuID);
          event.target.classList.toggle('is-active');
          menu.classList.toggle('is-active');
        });
      </script>
  </body>
</html>