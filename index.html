<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Project Team A</title>
  </head>

  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">
        let latitude
        let longitude

        navigator.geolocation.getCurrentPosition(getRestaurants)

        function getRestaurants(location){
            latitude = location.coords.latitude.toFixed(6)
            longitude = location.coords.longitude.toFixed(6)
            fetchObject()
        }
        
        function fetchObject (){
            const YELP_API_KEY =
                'NdXFjJC2Z5-HgDBjoNaueLO36hrPTyedCA-GNKcoSl6oYQV6qiIkWXI89HGaxlrEoBNYFt0CFYeiMhyb8rCYqUqWfbF0-qRXgBJOYHirnXdPjl2kjj_3w-6MySlmX3Yx'
            const CORS_PROXY = 'https://cors-anywhere.herokuapp.com/'
            const BASE_URL = 'https://api.yelp.com/v3/businesses'
            const geoCoords = `&latitude=${latitude}&longitude=${longitude}`
            const url = `${CORS_PROXY}${BASE_URL}/search?term=coffee${geoCoords}`
            fetch(url, {
            headers: {
                'Content-Type': 'application/json',
                Authorization: 'Bearer ' + YELP_API_KEY
            }
            })
            .then(response => response.json())
            .then(console.log)
        }
      
        function getZomatoData(lat, lon) {
        const ZOMATO_API_KEY =
          'e97f8a0c15411b5568c8f26befb3d704';
          const CORS_PROXY = 'https://cors-anywhere.herokuapp.com/';
          const BASE_URL = `https://developers.zomato.com/api/v2.1/search?`;
          const url = `${CORS_PROXY}${BASE_URL}lat=${lat}&lon=${lon}`
          fetch(url, {
            headers: {
              'user-key': ZOMATO_API_KEY
            }
          })
            .then(response => response.json())
            .then(console.log)
        }
      </script>
  </body>
</html>